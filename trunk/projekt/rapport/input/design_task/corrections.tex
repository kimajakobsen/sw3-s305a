\section{Corrections to the Analysis}
\label{sec:correctionstotheanalysis}

After a review of the analysis, we come up with some corrections. Subsection \ref{sub:classesandevents}, \ref{sub:classdiagram}, and \ref{sub:interface} contains the corrections, modifications, and supplement to the analysis. 

\subsection{Classes and events}
\label{sub:classesandevents}
The following classes are removed because they where redundant: 
\paragraph{Deadline}
The class \cl{deadline} which is now an attribute.

\paragraph{Client, Staff and Admin}
The role system is changed because we use the MVC framework, which is described in section \ref{sec:mvc}. A person can have more roles. The new role structure is seen on figure \ref{tab:newactortable}.  

\begin{figure}[hp]
\begin{center}
\begin{tabular}{l  ccccc}
\hline 
\multicolumn{2}{r}{\shf{Actor}} \\
\shf{Use case} 	&   \Aclient 	& \Astaff 		& \admin[c]  \\ \hline%
Submit problem 	& $\checkmark$ 	&  	&  \\ %
My problems 		& $\checkmark$	&   &  \\ %
Worklist 				& 	& $\checkmark$  &  \\ %
Solve problem 	& 	& $\checkmark$	&  \\ %
Administrate		&  	&		& $\checkmark$ \\	%
\gstat[c]				&		& 	& $\checkmark$ \\ \hline%
\end{tabular}
\end{center}
\caption{\myCaption{Actor \& use case table}}
\label{tab:newactortable}
\end{figure}

\subsection{Class diagram}
\label{sub:classdiagram}
The class diagram from figure \ref{fig:pdaclassdiagram} is modified so the following is changed:
\begin{itemize}
\item \textbf{Problem and tag relation} \\
					A tag can be connected to multiple different problems and a problem can have many tags connected to it. 
\item \textbf{Problem and person relations} \\
					A person can have from zero to three simultaneous roles. When a person have zero roles, the person is unable to do anything at all, except login. This is to give the \admin s the ability to bann a user, if such need should arise.	
\end{itemize}

%\subsection{Functions}
%\label{sub:function}
%The function list in section \ref{sec:function} is outdated, but we use them in the planning phase. The functionality of the described functions are basically the same.  

\subsection{Interfaces}
\label{sub:interface}
The navigation diagrams from section \ref{sec:interfaces} are reflecting of the final design except for a few changes:

\paragraph{Client interface}
In the client navigation diagram only the Main window is changed. It is changed to a navigation bar and thereby making it easy to navigate between the different windows. 
When a new problem is created the user is directed to the Search window, there the user have the options to see his/hers problems or search for problems. 

\paragraph{Staff interface}
Similar to the Client interface the Main window is changed to a navigation bar. In the Staff Problem View there was added a save button, to do what the name implies. 

\paragraph{Admin interface}
The Main window is changed to a navigation bar. The Department administration is divided into two windows, this is done to avoid updating the two tables every time a new department is selected, see subsection \ref{sub:managedep} for a more throughly explanation.  

The final navigation and design is described and shown in chapter \ref{chap:program_presentation}.

